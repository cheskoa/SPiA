#include<iostream>
#include <vector>
using namespace std;
//3 petice uzastopno divide and conqueror
bool pronadji_r(vector<int>&v, int p, int k){
    if((k-p+1)<3) return false;
    if((k-p+1) == 3){
        if(v[p] == 5 && v[p+1]== 5 && v[p+2] == 5)return true;
    }
    int mid = (k+p)/2;
    if(mid-1>=p && mid+1<=k)if(v[mid-1] == 5 && v[mid]==5 && v[mid+1]== 5) return true;
    if(mid-2>=p)if(v[mid-2] == 5 && v[mid-1] == 5 && v[mid]==5) return true;
    if(mid+2<=k)if(v[mid]==5 && v[mid+1]==5 && v[mid+2]==5)return true;
    bool l = pronadji_r(v,p,mid);
    if(l == false)bool r = pronadji_r(v,mid+1,k);
    if(r == true)return true;
    return false;
}

bool pronadji(vector<int>&v){
    if(v.size()<3)throw "Niz mora biti veci ili jednako od 2";
    return pronadji_r(v, 0, v.size()-1);
}

int main(){
    try{
        vector<int>v{1,5,5,5,1};
        cout<<pronadji(v);
    }catch(const char* msg){cout<<msg;}
return 0;}
