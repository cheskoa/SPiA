#include<iostream>
#include<vector>
using namespace std;
int aritmeticka_sredina_rekurentno(vector<int>&v, int p, int k){
    for(int a:v)cout<<a<<" ";
    cout<<endl;
    if(k-p+1<3)return 0;
    int broj_elemenata = 0;
    int mid = (p+k)/2;
    cout<<v[mid]<<endl;
    if(k-p+1==3){
        if(v[mid]*2==v[p]+v[k])broj_elemenata++;
    }else{
        if (v[mid] * 2 == v[mid - 1] + v[mid + 1])broj_elemenata++;
        broj_elemenata += aritmeticka_sredina_rekurentno(v,p,mid-1);
        broj_elemenata +=aritmeticka_sredina_rekurentno(v,mid+1,k);
    }
    return broj_elemenata;
}
int aritmeticka_sredina(vector<int>&v){
    if(v.size()<3)throw "Velicina vectora je manja od 3";
    return aritmeticka_sredina_rekurentno(v,0,v.size()-1);
}
int main(){
    try{
        vector<int>v{1,2,3,4,5,6};
        cout<<aritmeticka_sredina(v);
    }catch(const char* msg){
        cout<<msg;}
return 0;}
